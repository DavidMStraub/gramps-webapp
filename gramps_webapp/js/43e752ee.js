let e,t,i,a,s,o,r,n,l,p=e=>e;import{c as h,s as c,h as m,t as d,S as g}from"./80126bfe.js";import{P as _}from"./c90d6c40.js";import"./cb2c5929.js";import"./4582424e.js";import"./cba53e11.js";import"./4f794f05.js";import"./e6ec0820.js";import"./fe5344c8.js";import"./580fa394.js";import"./d880604a.js";import"./adb2bcf5.js";var u={"-1":"Unknown",0:"Custom",1:"Country",2:"State",3:"County",4:"City",5:"Parish",6:"Locality",7:"Street",8:"Province",9:"Region",10:"Department",11:"Neighborhood",12:"District",13:"Borough",14:"Municipality",15:"Town",16:"Village",17:"Hamlet",18:"Farm",19:"Building",20:"Number"};class y extends(h(c)(_)){render(){return null==this._place?m(e||(e=p` <section> <p>Loading ...</p> </section> `)):m(t||(t=p` <style>div.item{float:left;margin:5px}svg{height:1em;top:.125em;position:relative}svg path{fill:#aaa}th{color:#777;font-size:.75em;font-weight:500;text-align:right;max-width:20em;padding-right:1em;padding-top:.3em}td{margin:0}:host{--paper-tab-ink:var(--app-secondary-color);--paper-tabs-selection-bar-color:var(--app-secondary-color);--paper-badge-background:var(--app-primary-color);--paper-badge-margin-left:20px}paper-tabs{color:var(--app-dark-text-color);font-weight:400;font-size:15px}</style> <section> <div id="title"> <h2>${0}</h2> </div> <table width="100%"> ${0} </table> ${0} <gr-gallery-element .images="${0}" token="${0}"> </gr-gallery-element> ${0} ${0} ${0} ${0} <gr-citations-element .citations="${0}"> </gr-citations-element> </section> `),this._place.name,Object.entries(this._place.hierarchy).sort((e,t)=>t[0]>e[0]?1:-1).map((function(e){return m(i||(i=p` <tr> <th>${0}</th> <td>${0}</td> </tr> `),d(u[e[0]]),e[1])})),this._media.length?m(a||(a=p`<h3>${0}</h3>`),d("Media")):"",this._media,this._token,this._place.geolocation&&this._place.geolocation[0]?m(s||(s=p`<h3>${0}</h3> <gr-leaflet-map width="100%" height="500px" latitude="${0}" longitude="${0}" zoom="13" mapid="map-place"> <gr-leaflet-map-marker latitude="${0}" longitude="${0}"> </gr-leaflet-map-marker> </gr-leaflet-map> `),d("Map"),this._place.geolocation[0],this._place.geolocation[1],this._place.geolocation[0],this._place.geolocation[1]):"",this._notes.length?m(o||(o=p`<h3>${0}</h3>`),d("Notes")):"",this._notes.map(e=>m(r||(r=p` <gr-note-element grampsid="${0}"> </gr-note-element> `),e)),this._citations.length?m(n||(n=p`<h3>${0}</h3>`),d("Sources")):"",this._citations)}static get styles(){return[g]}constructor(){super(),this._selected=0,this._media=Array()}static get properties(){return{_place:{type:Object},_gramps_id:{type:String},_token:{type:String},_events:{type:Object},_media:{type:Object},_hierarchy:{type:Object},_selected:{type:Number}}}_handleSelected(e){this._selected=e.detail.selected,window.location.hash=this._selected}_onHashChange(e){this._selected=e.newURL.split("#")[1]}firstUpdated(){window.addEventListener("hashchange",this._onHashChange),null!=window.location.hash.split("#")[1]&&(this._selected=window.location.hash.split("#")[1])}_personLink(e,t){return null==e?"":m(l||(l=p` <a href="/person/${0}">${0} ${0}</a>${0} `),e.gramps_id,e.name_given,e.name_surname,t?"":", ")}_addMimeType(e,t){return e.map((function(e){return e.mime=t.api.media[e.ref].mime,e}))}stateChanged(e){this._token=e.api.token,this._gramps_id=e.app.activePlace,this._place=e.api.places[this._gramps_id],null!=this._place&&(this._media=this._addMimeType(this._place.media,e),this._hierarchy=this._place._hierarchy,this._citations=this._place.citations,this._notes=this._place.notes)}}window.customElements.define("gr-view-place",y);
