let e,t,i,s,a,p,n,r,o,h,l,d,c=e=>e;import{c as m,s as _,h as g,l as $,t as b,m as v,S as f}from"./8144a6f8.js";import{P as y}from"./373bcc3c.js";import"./8e695940.js";import"./397b2068.js";import"./5660ce9c.js";import"./f6d34d5d.js";import"./03029a4d.js";import"./5800f810.js";import"./cdf40cfd.js";import"./4dd71483.js";class u extends(m(_)(y)){render(){return null==this._person?g(e||(e=c` <section> <p>Loading ...</p> </section> `)):g(t||(t=c` <style>h2{margin:0}div#photo{padding:10px 30px;width:230px}svg{height:1em;top:.125em;position:relative}svg path{fill:#aaa}:host{--paper-tab-ink:var(--app-secondary-color);--paper-tabs-selection-bar-color:var(--app-secondary-color);--paper-badge-background:var(--app-primary-color);--paper-badge-margin-left:-12px}paper-tabs{color:var(--app-dark-text-color);font-weight:400;font-size:15px}paper-tab{padding:0 16px;overflow:visible;display:inline-block}@media (min-width:768px){div#photo{float:right}div#title{margin-right:230px;min-height:150px}div#tabs{margin-right:230px}}</style> <section> ${0} <div id="title"> <h2> ${0} ${0}</h2> <p>${0} ${0} </p> <p>${0} ${0} </p> </div> <div id="tabs"> <paper-tabs autoselect .selected="${0}" scrollable @iron-activate="${0}"> <paper-tab>${0}</paper-tab> <paper-tab>${0}</paper-tab> <paper-tab>${0}</paper-tab> <paper-tab><div style="display:inline-block"><span>${0}</span>${0}</div></paper-tab> <paper-tab>${0}</paper-tab> <paper-tab>${0}</paper-tab> </paper-tabs> </div> </section> <section ?hidden="${0}" style="clear:left"> ${0} </section> <section ?hidden="${0}"> ${0} </section> <section ?hidden="${0}"> ${0} </section> <section ?hidden="${0}"> <gr-gallery-element .images="${0}" token="${0}"> </gr-gallery-element> </section>  <section ?hidden="${0}"> ${0} </section> <section ?hidden="${0}"> <gr-citations-element .citations="${0}"> </gr-citations-element> </section> `),this._media&&this._media.length?g(i||(i=c` <div id="photo"> <gr-img-element token="${0}" handle="${0}" mime="${0}" size="200" circle square .rect="${0}"> </gr-img-element> </div> `),this._token,this._media[0].ref,this._media[0].mime,this._media[0].rect):"",this._person.name_given,this._person.name_surname,this._person.birthdate?g(s||(s=c` ${0} ${0} `),$,this._person.birthdate):"",this._person.birthplace?g(a||(a=c` ${0} <a href="place/${0}">${0}</a> `),b("in"),this._person.birthplace,this._person.birthplace_name):"",this._person.deathdate?g(p||(p=c` ${0} ${0} `),v,this._person.deathdate):"",this._person.deathplace?g(n||(n=c` ${0} <a href="place/${0}">${0}</a> `),b("in"),this._person.deathplace,this._person.deathplace_name):"",this._selected,this._handleSelected,b("Events"),b("Parents"),b("Families"),b("Media"),this._media.length?g(r||(r=c` <paper-badge label="${0}"></paper-badge> `),this._media.length):"",b("Notes"),b("Sources"),0!=this._selected,this._events?g(o||(o=c` <gr-events-element .items="${0}" place></gr-events-element>`),this._events):"",1!=this._selected,this._parents?g(h||(h=c`<gr-family-element gramps_id="${0}" siblings father mother></gr-family-element>`),this._parents):"",2!=this._selected,this._person.families?this._person.families.map(e=>g(l||(l=c` <gr-family-element gramps_id="${0}" father mother></gr-family-element>`),e)):"",3!=this._selected,this._media,this._token,4!=this._selected,this._notes.map(e=>g(d||(d=c` <gr-note-element grampsid="${0}"> </gr-note-element> `),e)),5!=this._selected,this._citations)}static get styles(){return[f]}constructor(){super(),this._selected=0}static get properties(){return{_gramps_id:{type:String},_person:{type:Object},_parents:{type:String},_token:{type:String},_events:{type:Object},_selected:{type:Number}}}_handleSelected(e){this._selected=e.detail.selected,window.location.hash=this._selected}_onHashChange(e){this._selected=e.newURL.split("#")[1]}firstUpdated(){window.addEventListener("hashchange",this._onHashChange),null!=window.location.hash.split("#")[1]&&(this._selected=window.location.hash.split("#")[1])}_get_place_name(e,t){return null!=t.place&&""!=t.place&&e.api&&e.api.places&&(t.place_name=e.api.places[t.place].name),t}_addMimeType(e,t){return e.map((function(e){return e.mime=t.api.media[e.ref].mime,e}))}stateChanged(e){this._token=e.api.token,this._gramps_id=e.app.activePerson,this._person=e.api.people[this._gramps_id],this._hidden=!_.getState().app.wideLayout,null!=this._person&&(this._parents=this._person.parents,this._events=this._person.events.map((function(t){let i=e.api.events[t.gramps_id];return t.role==b("Primary")?i.role="":i.role=t.role,i})),this._events=this._events.map(t=>this._get_place_name(e,t)),""!=this._person.birthplace&&(this._person.birthplace_name=e.api.places[this._person.birthplace].name),""!=this._person.deathplace&&(this._person.deathplace_name=e.api.places[this._person.deathplace].name),this._media=this._addMimeType(this._person.media,e),this._citations=this._person.citations,this._notes=this._person.notes)}}window.customElements.define("gr-view-person",u);
